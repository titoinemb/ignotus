{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///media/a/Dev/ignotus/app/src/app/hooks/useSettings.ts"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport { SettingsState } from \"@types\";\n\nexport const useSettings = () => {\n  const [state, setState] = useState<SettingsState>({\n    loading: true,\n    error: false,\n    settingss: [],\n    idSession: '',\n  });\n\n  useEffect(() => {\n    let sessionStorage = localStorage.getItem('session');\n    (async () => {\n      try {\n        if (sessionStorage) {\n          const response = await fetch('http://localhost:8080/account/datas', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n              username: localStorage.getItem('username'),\n              session: sessionStorage\n            }),\n          });\n          const datarep = await response.json();\n\n          if (!response.ok || !datarep || (datarep.message !== \"1\")) return setState(prevState => ({ ...prevState, error: true }));\n\n          await setState(prevState => ({ ...prevState, idSession: localStorage.getItem('username') as string }))\n          await setState(prevState => ({ ...prevState, settingss: sessionStorage as string }))\n          return await setState(prevState => ({ ...prevState, settingss: datarep.datas.settings }))\n        } else {\n          let settingsStorage = localStorage.getItem('setting');\n\n          if (!settingsStorage) {\n            let newSettings = JSON.stringify({\n              cc: \"null\",\n              kidsMod: {\n                actif: false,\n                max: 5,\n              },\n              langue: \"fr\",\n              quality: \"1080p\",\n              skip: {\n                intro: true,\n                outro: true,\n              },\n            });\n\n            await localStorage.setItem('setting', newSettings);\n            return await setState(prevState => ({ ...prevState, settingss: JSON.parse(newSettings as string) }));\n          } else {\n            return await setState(prevState => ({ ...prevState, settingss: JSON.parse(settingsStorage as string) }));\n          };\n        };\n      } catch (e) {\n        console.log(e)\n        return setState(prevState => ({ ...prevState, error: true }));\n      } finally {\n        return setState(prevState => ({ ...prevState, loading: false }));\n      };\n    })();\n  }, []);\n\n  return state;\n};"],"names":[],"mappings":";;;;AACA;AADA;;AAIO,MAAM,cAAc;IACzB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;QAChD,SAAS;QACT,OAAO;QACP,WAAW,EAAE;QACb,WAAW;IACb;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,iBAAiB,aAAa,OAAO,CAAC;QAC1C,CAAC;YACC,IAAI;gBACF,IAAI,gBAAgB;oBAClB,MAAM,WAAW,MAAM,MAAM,uCAAuC;wBAClE,QAAQ;wBACR,SAAS;4BACP,gBAAgB;wBAClB;wBACA,MAAM,KAAK,SAAS,CAAC;4BACnB,UAAU,aAAa,OAAO,CAAC;4BAC/B,SAAS;wBACX;oBACF;oBACA,MAAM,UAAU,MAAM,SAAS,IAAI;oBAEnC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAY,QAAQ,OAAO,KAAK,KAAM,OAAO,SAAS,CAAA,YAAa,CAAC;4BAAE,GAAG,SAAS;4BAAE,OAAO;wBAAK,CAAC;oBAEtH,MAAM,SAAS,CAAA,YAAa,CAAC;4BAAE,GAAG,SAAS;4BAAE,WAAW,aAAa,OAAO,CAAC;wBAAsB,CAAC;oBACpG,MAAM,SAAS,CAAA,YAAa,CAAC;4BAAE,GAAG,SAAS;4BAAE,WAAW;wBAAyB,CAAC;oBAClF,OAAO,MAAM,SAAS,CAAA,YAAa,CAAC;4BAAE,GAAG,SAAS;4BAAE,WAAW,QAAQ,KAAK,CAAC,QAAQ;wBAAC,CAAC;gBACzF,OAAO;oBACL,IAAI,kBAAkB,aAAa,OAAO,CAAC;oBAE3C,IAAI,CAAC,iBAAiB;wBACpB,IAAI,cAAc,KAAK,SAAS,CAAC;4BAC/B,IAAI;4BACJ,SAAS;gCACP,OAAO;gCACP,KAAK;4BACP;4BACA,QAAQ;4BACR,SAAS;4BACT,MAAM;gCACJ,OAAO;gCACP,OAAO;4BACT;wBACF;wBAEA,MAAM,aAAa,OAAO,CAAC,WAAW;wBACtC,OAAO,MAAM,SAAS,CAAA,YAAa,CAAC;gCAAE,GAAG,SAAS;gCAAE,WAAW,KAAK,KAAK,CAAC;4BAAuB,CAAC;oBACpG,OAAO;wBACL,OAAO,MAAM,SAAS,CAAA,YAAa,CAAC;gCAAE,GAAG,SAAS;gCAAE,WAAW,KAAK,KAAK,CAAC;4BAA2B,CAAC;oBACxG;;;gBACF;;;YACF,EAAE,OAAO,GAAG;gBACV,QAAQ,GAAG,CAAC;gBACZ,OAAO,SAAS,CAAA,YAAa,CAAC;wBAAE,GAAG,SAAS;wBAAE,OAAO;oBAAK,CAAC;YAC7D,SAAU;gBACR,OAAO,SAAS,CAAA,YAAa,CAAC;wBAAE,GAAG,SAAS;wBAAE,SAAS;oBAAM,CAAC;YAChE;;;QACF,CAAC;IACH,GAAG,EAAE;IAEL,OAAO;AACT"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///media/a/Dev/ignotus/app/src/app/components/features/Settings.tsx"],"sourcesContent":["import { Loading, Error500 } from '../layout';\r\nimport '../../styles/settings.scss'\r\nimport { saveSettings } from '../../functions';\r\nimport { Props } from '@types';\r\nimport { useSettings } from \"../../hooks/useSettings\";\r\n\r\nexport const Settings: React.FC<Props> = ({ json, lang }) => {\r\n  const { error, idSession, loading, settingss } = useSettings();\r\n\r\n  if (loading) return <Loading />;\r\n  if (error === true) return <Error500 lang={lang} json={json} />;\r\n\r\n  return (\r\n    <div className='app'>\r\n      <div className=\"title\">{json.settings.txt1}</div>\r\n      <div className=\"list\">\r\n        <div className=\"section\">\r\n          <div className=\"title2\">{json.watch.txt1}</div>\r\n          <select name=\"qualitys\" id=\"qualitys\" defaultValue={settingss.quality}>\r\n            <option value=\"1080p\">1080p</option>\r\n            <option value=\"720p\">720p</option>\r\n            <option value=\"480p\">480p</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"section\">\r\n          <div className=\"title2\">{json.watch.txt2}</div>\r\n          <select defaultValue={settingss.langue} id=\"lang\">\r\n            <option value=\"ar\">العربية</option>\r\n            <option value=\"de\">Deutsch</option>\r\n            <option value=\"en\">English</option>\r\n            <option value=\"es\">Español</option>\r\n            <option value=\"fr\">Français</option>\r\n            <option value=\"hi\">हिन्दी</option>\r\n            <option value=\"it\">Italiano</option>\r\n            <option value=\"jp\">日本語</option>\r\n            <option value=\"ko\">한국어</option>\r\n            <option value=\"nl\">Nederlands</option>\r\n            <option value=\"pt\">Português</option>\r\n            <option value=\"ru\">Русский</option>\r\n            <option value=\"sv\">Svenska</option>\r\n            <option value=\"tr\">Türkçe</option>\r\n            <option value=\"zh\">中文</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"section\">\r\n          <div className=\"title2\">{json.watch.txt3}</div>\r\n          <select defaultValue={settingss.cc} id=\"langCC\">\r\n            <option value=\"null\">{json.settings.txt4}</option>\r\n            <option value=\"ar\">العربية</option>\r\n            <option value=\"de\">Deutsch</option>\r\n            <option value=\"en\">English</option>\r\n            <option value=\"es\">Español</option>\r\n            <option value=\"fr\">Français</option>\r\n            <option value=\"hi\">हिन्दी</option>\r\n            <option value=\"it\">Italiano</option>\r\n            <option value=\"jp\">日本語</option>\r\n            <option value=\"ko\">한국어</option>\r\n            <option value=\"nl\">Nederlands</option>\r\n            <option value=\"pt\">Português</option>\r\n            <option value=\"ru\">Русский</option>\r\n            <option value=\"sv\">Svenska</option>\r\n            <option value=\"tr\">Türkçe</option>\r\n            <option value=\"zh\">中文</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"section\" style={{ display: \"none\" }}>\r\n          <div className=\"title2\">{json.settings.txt2}</div>\r\n          <select name=\"skipintro\" id=\"skipintro\" defaultValue={settingss.skip.intro}>\r\n            <option value=\"true\">{json.yes}</option>\r\n            <option value=\"false\">{json.no}</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"section\" style={{ display: \"none\" }}>\r\n          <div className=\"title2\">{json.settings.txt3}</div>\r\n          <select name=\"skipoutro\" id=\"skipoutro\" defaultValue={settingss.skip.outro}>\r\n            <option value=\"true\">{json.yes}</option>\r\n            <option value=\"false\">{json.no}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button onClick={() => { saveSettings(idSession) }}>{json.account.txt6}</button>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":"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"}}]
}